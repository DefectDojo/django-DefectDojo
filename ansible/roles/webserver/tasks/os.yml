---
- name: Update OS packages
  apt: update_cache=yes cache_valid_time=6000

- name: Install gcc
  apt: name=gcc state=latest

- name: Install libssl-dev
  apt: name=libssl-dev state=latest

- name: Install Python-dev
  apt: name=python-dev state=present

- name: Install PIP
  apt: name=python-pip state=present

- name: Install git 
  apt: name=git state=latest

- name: Install node
  apt: name=nodejs-legacy state=latest

- name: Install npm
  apt: name=npm state=latest

- name: Install wkhtmltopdf
  apt: name=wkhtmltopdf state=latest

- name: Create www-data group
  group: name=www-data state=present

- name: Create DefectDojo user
  user: name={{ dd_user }} groups=sudo,www-data append=yes state=present generate_ssh_key=yes ssh_key_comment="Generated by ansible for DD"

- name: Install Bower
  npm: name=bower global=yes
